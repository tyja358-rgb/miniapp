<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>KWT Mini App ‚ö°</title>
  <script src="https://cdn.adsonar.io/ad.js"></script>
  <style>
    body { font-family: Arial; text-align: center; margin: 30px; background: #f0f8ff; }
    h2 { color: #333; }
    #rewardButton {
      background-color: #4CAF50; color: white; font-size: 18px;
      padding: 15px 30px; border-radius: 10px; cursor: pointer; margin-top: 20px;
      transition: transform 0.1s, box-shadow 0.2s;
    }
    #rewardButton:active { transform: scale(1.05); box-shadow: 0 0 20px #4CAF50; }
    #progress { font-size: 16px; margin-top: 20px; }
    #energy-bar {
      width: 80%; height: 25px; background-color: #ccc; margin: 10px auto;
      border-radius: 12px; overflow: hidden; box-shadow: inset 0 0 5px #0003;
    }
    #energy-fill {
      height: 100%; width: 0%; background: linear-gradient(to right, #4CAF50, #00FFAA);
      transition: width 0.5s;
    }
    #bonus { font-size: 16px; color: #ff4500; margin-top: 10px; }
    #spark { font-size: 24px; display: inline-block; margin-left: 10px; animation: spark 0.5s ease-out; }
    @keyframes spark {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.5); opacity: 1; }
      100% { transform: scale(1); opacity: 0; }
    }
    .flash { animation: flash 0.3s; }
    @keyframes flash { 0% { background-color: yellow; } 100% { background-color: #4CAF50; } }
  </style>
</head>
<body>
  <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ KWT Mini App ‚ö°</h2>
  <p>–°–æ–±–∏—Ä–∞–π—Ç–µ —ç–Ω–µ—Ä–≥–∏—é –∏ –ø–æ–ª—É—á–∞–π—Ç–µ KWT:</p>

  <div id="energy-bar"><div id="energy-fill"></div></div>
  <p id="progress">–°–µ–≥–æ–¥–Ω—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 0 KWT <span id="spark">‚ö°</span></p>
  <p id="bonus"></p>

  <button id="rewardButton">–°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É –∏ –ø–æ–ª—É—á–∏—Ç—å KWT</button>

  <p>–°—Å—ã–ª–∫–∞ –Ω–∞ Telegram-–±–æ—Ç–∞: 
    <a href="http://telegram.me/Kwt_pool_bot" target="_blank">–û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞</a>
  </p>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AdSonar (–ø–æ–∫–∞ —Ç–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥–ª—É—à–∫–∞)
    AdSonar.init({ appId: "–í–ê–®_APP_ID" });

    let points = parseFloat(localStorage.getItem("points")) || 0;
    let level = Math.floor(points / 10) + 1;

    function updateProgress() {
      document.getElementById("progress").innerHTML = `–°–µ–≥–æ–¥–Ω—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: ${points.toFixed(3)} KWT <span id="spark">‚ö°</span>`;
      let percent = Math.min((points % 10) * 10, 100);
      let fill = document.getElementById("energy-fill");
      fill.style.width = percent + "%";
      fill.classList.add("flash");
      setTimeout(()=>fill.classList.remove("flash"), 300);

      // –ê–Ω–∏–º–∞—Ü–∏—è ‚ö°
      let spark = document.getElementById("spark");
      spark.style.animation = "spark 0.5s ease-out";
      setTimeout(()=>{ spark.style.animation = ""; }, 500);
    }

    function showReward() {
      // –¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥–ª—É—à–∫–∞
      alert("–í—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏ 0.003 KWT —ç–Ω–µ—Ä–≥–∏–∏!");
      points += 0.003;

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∏ –±–æ–Ω—É—Å–æ–≤
      let newLevel = Math.floor(points / 10) + 1;
      if(newLevel > level) {
        level = newLevel;
        document.getElementById("bonus").innerText = `üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è ${level}! –ë–æ–Ω—É—Å –Ω–∞—á–∏—Å–ª–µ–Ω!`;
      } else {
        document.getElementById("bonus").innerText = "";
      }

      localStorage.setItem("points", points);
      updateProgress();

      // –ö–æ–≥–¥–∞ –ø—Ä–∏–¥—ë—Ç App ID:
      // AdSonar.showRewarded();
    }

    document.getElementById("rewardButton").addEventListener("click", showReward);

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    updateProgress();
  </script>
</body>
</html>
